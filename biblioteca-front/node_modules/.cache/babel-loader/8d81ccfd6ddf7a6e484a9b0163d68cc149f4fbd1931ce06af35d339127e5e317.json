{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\CaseAtomo\\\\biblioteca-front\\\\src\\\\pages\\\\Bibliteca\\\\index.js\",\n  _s = $RefreshSig$();\n// src/pages/Library/index.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, BookList, SearchBar, Titulo } from './styles';\nimport BookItem from '../../components/LivroItem';\nimport BookForm from '../../components/LivroFormulario';\nimport { api } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Library = () => {\n  _s();\n  const [livros, setLivros] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    loadLivros();\n  }, []);\n  const loadLivros = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await api.getAllLivros();\n      setLivros(data);\n    } catch (error) {\n      setError('Erro ao carregar livros');\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCreateLivro = async novoLivro => {\n    try {\n      const livro = await api.createLivro(novoLivro);\n      setLivros([...livros, livro]);\n    } catch (error) {\n      console.error('Erro ao criar livro:', error);\n      alert('Erro ao criar livro');\n    }\n  };\n  const handleUpdateLivro = async (id, livroAtualizado) => {\n    try {\n      const livro = await api.updateLivro(id, livroAtualizado);\n      setLivros(livros.map(l => l.id === id ? livro : l));\n    } catch (error) {\n      console.error('Erro ao atualizar livro:', error);\n      alert('Erro ao atualizar livro');\n    }\n  };\n  const handleDeleteLivro = async id => {\n    try {\n      await api.deleteLivro(id);\n      setLivros(livros.filter(livro => livro.id !== id));\n    } catch (error) {\n      console.error('Erro ao deletar livro:', error);\n      alert('Erro ao deletar livro');\n    }\n  };\n  const filteredLivros = livros.filter(livro => {\n    var _livro$titulo, _livro$autor, _livro$editora;\n    return (((_livro$titulo = livro.titulo) === null || _livro$titulo === void 0 ? void 0 : _livro$titulo.toLowerCase()) || '').includes(searchTerm.toLowerCase()) || (((_livro$autor = livro.autor) === null || _livro$autor === void 0 ? void 0 : _livro$autor.toLowerCase()) || '').includes(searchTerm.toLowerCase()) || (((_livro$editora = livro.editora) === null || _livro$editora === void 0 ? void 0 : _livro$editora.toLowerCase()) || '').includes(searchTerm.toLowerCase());\n  });\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [\"Erro: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Titulo, {\n      children: \"Biblioteca\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookForm, {\n      onSubmit: handleCreateLivro\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n      type: \"text\",\n      placeholder: \"Pesquisar livros...\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookList, {\n      children: filteredLivros.map(livro => /*#__PURE__*/_jsxDEV(BookItem, {\n        livro: livro,\n        onDelete: handleDeleteLivro,\n        onUpdate: handleUpdateLivro\n      }, livro.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(Library, \"iiCu6rKx2HAo8jl2uDOaXcl4Tuo=\");\n_c = Library;\nexport default Library;\nvar _c;\n$RefreshReg$(_c, \"Library\");","map":{"version":3,"names":["React","useState","useEffect","Container","BookList","SearchBar","Titulo","BookItem","BookForm","api","jsxDEV","_jsxDEV","Library","_s","livros","setLivros","searchTerm","setSearchTerm","loading","setLoading","error","setError","loadLivros","data","getAllLivros","console","handleCreateLivro","novoLivro","livro","createLivro","alert","handleUpdateLivro","id","livroAtualizado","updateLivro","map","l","handleDeleteLivro","deleteLivro","filter","filteredLivros","_livro$titulo","_livro$autor","_livro$editora","titulo","toLowerCase","includes","autor","editora","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","e","target","onDelete","onUpdate","_c","$RefreshReg$"],"sources":["C:/Users/User/CaseAtomo/biblioteca-front/src/pages/Bibliteca/index.js"],"sourcesContent":["// src/pages/Library/index.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Container, BookList, SearchBar, Titulo } from './styles';\r\nimport BookItem from '../../components/LivroItem';\r\nimport BookForm from '../../components/LivroFormulario';\r\nimport { api } from '../../services/api';\r\n\r\nconst Library = () => {\r\n  const [livros, setLivros] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadLivros();\r\n  }, []);\r\n\r\n  const loadLivros = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const data = await api.getAllLivros();\r\n      setLivros(data);\r\n    } catch (error) {\r\n      setError('Erro ao carregar livros');\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateLivro = async (novoLivro) => {\r\n    try {\r\n      const livro = await api.createLivro(novoLivro);\r\n      setLivros([...livros, livro]);\r\n    } catch (error) {\r\n      console.error('Erro ao criar livro:', error);\r\n      alert('Erro ao criar livro');\r\n    }\r\n  };\r\n\r\n  const handleUpdateLivro = async (id, livroAtualizado) => {\r\n    try {\r\n      const livro = await api.updateLivro(id, livroAtualizado);\r\n      setLivros(livros.map(l => l.id === id ? livro : l));\r\n    } catch (error) {\r\n      console.error('Erro ao atualizar livro:', error);\r\n      alert('Erro ao atualizar livro');\r\n    }\r\n  };\r\n\r\n  const handleDeleteLivro = async (id) => {\r\n    try {\r\n      await api.deleteLivro(id);\r\n      setLivros(livros.filter(livro => livro.id !== id));\r\n    } catch (error) {\r\n      console.error('Erro ao deletar livro:', error);\r\n      alert('Erro ao deletar livro');\r\n    }\r\n  };\r\n\r\n  const filteredLivros = livros.filter(livro =>\r\n    (livro.titulo?.toLowerCase() || '').includes(searchTerm.toLowerCase()) ||\r\n    (livro.autor?.toLowerCase() || '').includes(searchTerm.toLowerCase()) ||\r\n    (livro.editora?.toLowerCase() || '').includes(searchTerm.toLowerCase())\r\n  );  \r\n\r\n  if (loading) {\r\n    return <Container>Carregando...</Container>;\r\n  }\r\n\r\n  if (error) {\r\n    return <Container>Erro: {error}</Container>;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Titulo>Biblioteca</Titulo>\r\n      <BookForm onSubmit={handleCreateLivro} />\r\n      <SearchBar\r\n        type=\"text\"\r\n        placeholder=\"Pesquisar livros...\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n      />\r\n      <BookList>\r\n        {filteredLivros.map(livro => (\r\n          <BookItem\r\n            key={livro.id}\r\n            livro={livro}\r\n            onDelete={handleDeleteLivro}\r\n            onUpdate={handleUpdateLivro}\r\n          />\r\n        ))}\r\n      </BookList>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Library;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}